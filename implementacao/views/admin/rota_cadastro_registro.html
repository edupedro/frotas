<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en">
<!--<![endif]-->
<head>
	<meta charset="utf-8" />
	<title>{$pagina['titulo']}</title>
	<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport" />
	<meta content="{$pagina['descricao']}" name="description" />
	<meta content="{$pagina['autor']}" name="author" />
	<meta content="{$pagina['palavras']}" name="keywords" />
	
	<link rel="shortcut icon" href="/res/admin/assets/img/fav.png" type="image/x-icon">	
	
	<!-- ================== BEGIN BASE CSS STYLE ================== -->
	<link href="http://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet">
	<link href="/res/admin/assets/plugins/jquery-ui/themes/base/minified/jquery-ui.min.css" rel="stylesheet" />
	<link href="/res/admin/assets/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
	<link href="/res/admin/assets/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet" />
	<link href="/res/admin/assets/css/animate.min.css" rel="stylesheet" />
	<link href="/res/admin/assets/css/style.css" rel="stylesheet" />
	<link href="/res/admin/assets/css/style-responsive.min.css" rel="stylesheet" />
	<link href="/res/admin/assets/css/theme/default.css" rel="stylesheet" id="theme" />
	<!-- ================== END BASE CSS STYLE ================== -->
	
	<!-- ================== BEGIN PAGE LEVEL CSS STYLE ================== -->
	<link href="/res/admin/assets/plugins/jquery-tag-it/css/jquery.tagit.css" rel="stylesheet" />
	<link href="/res/admin/assets/plugins/bootstrap-wysihtml5/src/bootstrap-wysihtml5.css" rel="stylesheet" />
	<link href="/res/admin/assets/plugins/jquery-notifyjs/styles/metro/notify-metro.css" rel="stylesheet" type="text/css" />
	<link href="/res/admin/assets/plugins/bootstrap-datepicker/css/datepicker.css" rel="stylesheet" />	
	<link href="/res/admin/assets/plugins/switchery/switchery.min.css" rel="stylesheet" />
	<!-- ================== END PAGE LEVEL CSS STYLE ================== -->

	<!-- ================== BEGIN BASE JS ================== -->
	<script src="/res/admin/assets/plugins/pace/pace.min.js"></script>
	<!-- ================== END BASE JS ================== -->
	
	
</head>
<body>
	<!-- begin #page-loader -->
	<div id="page-loader" class="fade in"><span class="spinner"></span></div>
	<!-- end #page-loader -->
	
	<!-- begin #page-container -->
	<div id="page-container" class="fade page-sidebar-fixed page-header-fixed">
	
		<!-- begin #header -->
		{include="header_include"}
		<!-- end #header -->
		
		<!-- begin #sidebar -->
		{include="menu"}
		<!-- end #sidebar -->
		
		<!-- begin #content -->
		<div id="content" class="content content-full-width">
		
		    <!-- begin vertical-box -->
		    <div class="vertical-box">
		        
		        <!-- begin vertical-box-column -->
		        <div class="vertical-box-column width-250">
		        
		            <!-- begin wrapper -->
                    <div class="wrapper">                        
                        <ul class="nav nav-pills nav-stacked nav-sm">
                            <li>
								<div class="note note-info">
									<h4>Rota</h4>
									<p>Cadastrar ou alterar registro.</p>
								</div>                            
                            </li>
                        </ul>
					</div>
		            
		            
		        </div>
		        <!-- end vertical-box-column -->		        
		        
		        <!-- begin vertical-box-column -->
		        <div class="vertical-box-column">
		            
		            <!-- begin wrapper -->
                    <div class="wrapper">
                        <div class="p-30 bg-white">
                        
                        	<div id="horizontal-form">
	                            <form class="form-horizontal" action="/admin/rota_cadastro" method="POST" name="formConfirma" id="formConfirma" enctype="multipart/form-data">
									<div class="form-group">
										<div class="col-md-4">
											<input type="text" name="codigo" id="codigo" value="{$registro['codigo']}" class="form-control" readonly="readonly" />
										</div>
									</div>	                            
									<div class="form-group">
										<div class="col-sm-12">
											<label>Descrição</label>
	                            			<input id="rota" class="form-control" type="text" name="rota" title="Informe uma descrição" placeholder="Rota" onblur="maiuscula(this);" {if="$registro['rota']"}value="{$registro['rota']}"{/if} />
										</div>
								  	</div>
									<div class="form-group" style="margin-bottom: 5px;">
										<div class="col-sm-12">
											<label>Observações</label>
											<textarea rows="3" class="form-control" id="observacoes" name="observacoes" placeholder="Observações">{if="$registro['observacoes']"}{$registro['observacoes']}{/if}</textarea>
										</div>
								  	</div>								  	
								  	
									<div class="form-group" style="margin-bottom: 5px;">
										<div class="col-sm-12">&nbsp;</div>
								  	</div>	
								  	
									<div class="form-group" style="margin-bottom: 5px;">
										<div class="col-sm-12">
											<button type="submit" class="btn btn-success" id="btSalvar">Salvar</button>
											<a href="/admin/cadastro-rota" title="Cancelar" class="btn btn-default">Voltar</a>
										</div>
								  	</div>
	                               
									<input type="hidden" name="latitude" id="latitude" value="{if="$registro['latitude']"}{$registro['latitude']}{/if}" />	
									<input type="hidden" name="longitude" id="longitude" value="{if="$registro['longitude']"}{$registro['longitude']}{/if}" />	                               
									<input type="hidden" name="idRegistro" id="idRegistro" value="{if="$registro['idRota']"}{$registro['idRota']}{/if}" />
									<input type="hidden" name="acao" id="acao" value="{$acao}" />	                               
	                            </form>								  	
								  	
							</div>
                        </div>
                    </div>
		            <!-- end wrapper -->
		        </div>
		        <!-- end vertical-box-column -->
		    </div>
		    <!-- end vertical-box -->
		</div>
		<!-- end #content -->
		
	</div>
	<!-- end page container -->
	
	<!-- ================== BEGIN BASE JS ================== -->
	<script src="/res/admin/assets/plugins/jquery/jquery-1.9.1.min.js"></script>
	<script src="/res/admin/assets/plugins/jquery/jquery-migrate-1.1.0.min.js"></script>
	<script src="/res/admin/assets/plugins/jquery-ui/ui/minified/jquery-ui.min.js"></script>
	<script src="/res/admin/assets/plugins/bootstrap/js/bootstrap.min.js"></script>
	<!--[if lt IE 9]>
		<script src="/res/admin/assets/crossbrowserjs/html5shiv.js"></script>
		<script src="/res/admin/assets/crossbrowserjs/respond.min.js"></script>
		<script src="/res/admin/assets/crossbrowserjs/excanvas.min.js"></script>
	<![endif]-->
	<script src="/res/admin/assets/plugins/slimscroll/jquery.slimscroll.min.js"></script>
	<script src="/res/admin/assets/plugins/jquery-cookie/jquery.cookie.js"></script>
	<!-- ================== END BASE JS ================== -->
	
	<!-- ================== BEGIN PAGE LEVEL JS ================== -->
	<script src="/res/admin/assets/plugins/jquery-tag-it/js/tag-it.min.js"></script>
	<script src="/res/admin/assets/js/apps.min.js"></script>
	<!-- ================== END PAGE LEVEL JS ================== -->
	
	<!-- Specific Page Scripts Put Here -->
	<script src="/res/admin/assets/plugins/jquery-notifyjs/notify.min.js"></script>
	<script src="/res/admin/assets/plugins/jquery-notifyjs/styles/metro/notify-metro.js"></script>
	<script src="/res/admin/assets/js/valida.js"></script>
	<script src="/res/admin/assets/js/jquery.validate.min.js"></script>
	<script src="/res/admin/assets/js/jquery.mask.min.js" type="text/javascript"></script>
	
	<script src="/res/admin/assets/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js"></script>
	<script src="/res/admin/assets/plugins/bootstrap-datepicker/js/bootstrap-datepicker.pt-BR.js"></script>
	<script src="/res/admin/assets/plugins/switchery/switchery.min.js"></script>	

    <script src="/res/admin/assets/js/ckeditor/ckeditor.js"></script>
	<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key={$googleAPIkey}"></script>
	    
	<script>
		$(document).ready(function() {
			App.init();

	        $('#formConfirma').validate({
	            rules:{
	                rota:{
	                    required: true,
	                    minlength: 10,
	                    maxlength: 100
	                }	                
	            },
	            messages:{
	            	rota:{
	                    required: "Este campo \u00e9 obrigat\u00f3rio.",
	                    minlength: "Este campo deve ter no m\u00ednimo 10 caracteres.",
	                    maxlength: "Este campo deve ter no m\u00e1ximo 100 caracteres."
	                } 	                
	            }
	        });
	        
		});
		
        function preencheEnderecoCEP(campo){
            var valor = campo.value;
            
            $.getJSON('/funcoes_ajax.php?fn=retornaEnderecoCEP&vl1='+valor, function (dados){
        	    if(dados.length !== 0){
        	    	$('#endereco').val(dados['endereco']);
        	    	$('#numero').val(dados['numero']);
        	    	$('#complemento').val(dados['complemento']);
        	    	$('#bairro').val(dados['bairro']);
        	    	$('#cidade').val(dados['cidade']);
        	    	$("#estado").val(dados['sigla']).attr("selected", "selected");
        	    }else{
        	    	autoHideNotify('warning','CEP não localizado.');
        	    }
            });                                
        }
		
		function autoHideNotify(style,msg,position) {
		 	if(style == "error"){
				icon = "fa fa-exclamation";
			}else if(style == "warning"){
				icon = "fa fa-warning";
			}else if(style == "success"){
				icon = "fa fa-check";
			}else if(style == "info"){
				icon = "fa fa-question";
			}else{
				icon = "fa fa-circle-o";
			}   
		    $.notify({
		        title: 'Esta mensagem irá se ocultar...',
		        text: msg,
		        image: "<i class='fa fa-warning'></i>"
		    }, {
		        style: 'metro',
		        className: style,
		        globalPosition:position,
		        showAnimation: "show",
		        showDuration: 0,
		        hideDuration: 0,
		        autoHideDelay: 4000,
		        autoHide: true,
		        clickToHide: true
		    });
		}		

		defaults = {
		    color             : '#64bd63'
		  , secondaryColor    : '#dfdfdf'
		  , jackColor         : '#fff'
		  , jackSecondaryColor: null
		  , className         : 'switchery'
		  , disabled          : false
		  , disabledOpacity   : 0.5
		  , speed             : '0.1s'
		  , size              : 'default'
		}
		
	</script>
</body>
</html>
